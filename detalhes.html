<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Mina:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Nova+Square&display=swap');

        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        body {
            font-family: 'Mina', sans-serif;
        }

        header {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            width: 100%;
            align-items: center;
            justify-items: center;
            min-height: 12vh;
            background-color: #263238;
            padding: 10px;
            border-bottom: 2px solid black;
        }

        header h1 {
            padding-top: 5px;
        }

        header div:first-child {
            justify-self: start;
        }

        header button {
            padding: 8px 30px;
            border: 1px solid black;
            border-radius: 2px;
            font-family: 'Mina', sans-serif;
        }

        header button:hover {
            background-color: bisque;
            cursor: pointer;
        }

        header div:last-child {
            justify-self: end;
        }

        main {
            display: grid;
            grid-template-columns: 1fr 1.5fr 2fr;
            height: 85vh;
            row-gap: 50px;
            column-gap: 20px;
            padding: 10vh 5vw;
        }

        main > div:first-child {
            display: grid;
            height: 100%;
            grid-template-rows: 1fr 1fr;
            row-gap: 30px;
        }

        main > div:first-child > div:first-child {
            border: 2px solid black;
            /* border-top: 2px solid black; */
            /* border-left: 2px solid black; */
            border-top-left-radius: 10px;
        }

        main > div:first-child > div:last-child {
            border: 2px solid black;
            border-bottom-left-radius: 10px;
        }

        main > div:last-child {
            display: flex;
            flex-direction: column;
            row-gap: 30px;
        }

        main > div:last-child > div:first-child {
            border: 2px solid black;
            border-top-right-radius: 10px;
            height: 70px;
        }

        main > div:last-child > div:last-child {
            border: 2px solid black;
            border-bottom-right-radius: 10px;
            height: 100%;
        }

        #coluna2 {
            border: 2px solid black;
            padding: 0px 15px;
            
        }

        #fotoFrente, #fotoCostas {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #fotoFrente img, #fotoCostas img {
            width: 80%;
            display: flex;
        }

        ul {
            margin-top: 50px;
            list-style-type: none;
            display: grid;
            row-gap: 2px;
            width: 100%;
        }

        #coluna2 h2 {
            text-align: center;
            margin-top: 10px;
        }

        #stat {
            display: grid;
            grid-template-columns: 175px 1fr;
            width: 100%;
            padding: 5px 10px;
        }

        #statName {
            display: flex;
            align-items: center;
            background-color: lightgray;
            padding: 0px 5px;
            padding-top: 1px;
            font-weight: semi-bold;
            border-left: 1px solid black;
            border-top: 1px solid black;
            border-bottom: 1px solid black;
        }

        #statValueBG {
            display: flex;
            background-color: gray;
            width: 255px;
            border: 1px solid black;
        }

        #statValueBar {
            /* width: 230px; */
            display: flex;
            align-items: center;
            padding: 0px 5px;
            padding-top: 1px;
            color: white;
            font-weight: bold;
            border-right: 1px solid black;
        }

        #tipos {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            align-items: center;
            justify-items: center;
        }

        #tipos h2 {
            height: 100%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding-top: 3px;
            background-color: lightgray;
            border-right: 1px solid black;
        }

        #tipos p {
            height: 100%;
            padding: 10px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 300;
            border-left: 1px solid black;
        }

        #tipos p:last-child {
            /* border-left: 1px solid black; */
            border-top-right-radius: 5px;
        }

        #prevPokemon {
            position: absolute;
            left: 10px;
            top: 50vh;
            padding: 18px 12px;
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
            border: 1px solid gray;
            font-weight: bolder;
            font-size: 1rem;
            opacity: 0.6;
        }

        #nextPokemon {
            position: absolute;
            right: 10px;
            top: 50vh;
            padding: 18px 12px;
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
            border: 1px solid gray;
            font-weight: bolder;
            font-size: 1rem;
            opacity: 0.6;
        }

        #nextPokemon:hover, #prevPokemon:hover {
            background-color: gray;
            border: 1px solid black;
            cursor: pointer;
        }

        #moves {
            border: 2px solid black;
            padding: 0px 15px;
        }

        #moves h2 {
            text-align: center;
            margin-top: 10px;
        }

        #moveList {
            /* background-color: red; */
            display: grid;
            gap: 20px;
            /* justify-content: center; */
            align-items: center;
            text-align: center;
            margin-top: 10px;
            height: 250px;
            overflow-y: auto;
        }

        .addPokedex {
            color: green;
            background-color: white;
        }

        .addPokedex:hover {
            background-color: green;
            color: white;
            font-weight: bold;
        }

        .removePokedex {
            color: red;
            background-color: white;
        }
        
        .removePokedex:hover {
            background-color: red;
            color: white;
            font-weight: bold;
        }


        #dialogAdd {
            font-family: 'Nova Square', sans-serif;
            position: fixed;
            top: 15%;
            left: 19.3%;
            width: 800px;
            height: 475px;
            border-radius: 5px;
            /* background-image: url('./img/pokebolaOpen.png'); */
            background-image: url('./img/pokedex.png');
            background-repeat: no-repeat;
            box-shadow: 2px 5px 10px gray;
            /* background-color: rgba(0, 0, 0, 0); */
            /* border: none; */
        }

        #dialogAdd h1 {
            text-align: center;
            background-color: bisque;
            text-decoration: underline;
            padding-top: 5px;
            padding-bottom: 8px;
            font-size: 1.7rem;
        }

        #divPokemonDialog {
            position: absolute;
            top: 185px;
            left: 220px;
            width: 100px;
            height: 100px;
            /* background-color: bisque; */
            /* box-shadow: 2px 2px 50px gray; */
            background: rgb(226,217,157);
            background: radial-gradient(circle, rgba(226,217,157,0.3) 0%, rgba(182,147,63,0.1) 100%);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #divPokemonDialog img {
            width: 90%;
            height: 90%;
        }

        #divPokemonName {
            position: absolute;
            left: 453px;
            top: 188px;
            width: 170px;
            height: 63px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #dialogAdd h2 {
            /* position: absolute;
            left: 460px;
            top: 200px; */
            color: yellow;
            font-size: 1.1rem;
        }

        #divPokemonId {
            position: absolute;
            left: 206px;
            top: 382px;
            width: 38px;
            height: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #dialogAdd h3 {
            color: yellow;
            font-size: 0.9rem;
        }

        #divPokemonTipo1 {
            position: absolute;
            left: 453px;
            top: 385px;
            width: 76px;
            height: 26px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #divPokemonTipo2 {
            position: absolute;
            left: 546px;
            top: 385px;
            width: 76px;
            height: 26px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: yellow;
        }

        #divDialog > button {
            position: absolute;
            top: 4px;
            right: 4px;
            padding: 2px 6px;
        }
        
        #divDialog > button:hover {
            cursor: pointer;
        }

        #divPokemonStats {
            position: absolute;
            left: 453px;
            top: 262px;
            width: 170px;
            height: 54px;
            display: grid;
            /* background-color: red; */
            /* grid-template-columns: 30px 30px 30px 30px; */
            /* grid-template-columns: 60px 100px; */
            justify-content: center;
            align-items: center;
            /* column-gap: 10px;
            row-gap: 0px; */ 
        }

        #divPokemonStats div {
            display: flex;
            justify-content: space-between;
        }

        #divPokemonStats h3 {
            font-size: 0.8rem;
            color: yellow;
        }

        #prevStat {
            position: absolute;
            top: 321px;
            left: 558px;
            width: 30px;
            height: 7px;
            /* background-color: black; */
            opacity: 0;
            cursor: pointer;
        }

        #nextStat {
            position: absolute;
            top: 321px;
            left: 592px;
            width: 30px;
            height: 7px;
            /* background-color: black; */
            opacity: 0;
            cursor: pointer;
        }

        #prevStat:hover {
            opacity: 1;
        }

        #nextStat:hover {
            opacity: 1;
        }


        #dialogRemove {
            font-family: 'Nova Square', sans-serif;
            position: fixed;
            top: 15%;
            left: 19.3%;
            width: 800px;
            min-height: 475px;
            border-radius: 5px;
            /* background-image: url('./img/pokebolaOpen.png'); */
            background-image: url('./img/pokedex-apagada.png');
            background-repeat: no-repeat;
            background-position: 10px 0px;
            box-shadow: 2px 5px 10px gray;
            /* background-color: rgba(0, 0, 0, 0); */
            /* border: none; */
            display: flex;
            flex-direction: column;
            /* justify-content: center; */
        }

        #dialogRemove h1 {
            text-align: center;
            background-color: bisque;
            text-decoration: underline;
            padding-top: 5px;
            padding-bottom: 8px;
            font-size: 1.7rem;
        }

        #dialogRemove img {
            align-self: end;
            margin: 100px 80px;
            width: 20%;
            height: 20%;
        }

        #dialogRemove > button {
            position: absolute;
            top: 4px;
            right: 4px;
            padding: 2px 6px;
        }

        #dialogRemove > button:hover {
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <div>
            <button onclick="voltar()">Voltar</button>
        </div>
        <div id="nomePokemon">
            <h1 id="nome"></h1>
        </div>
        <div>
            <!-- <button id="btnAdicionarRemover" onclick="adicionarRemover()"></button> -->
            <button id="btnAdicionarRemover"></button>
        </div>
    </header>
    <main>
        <div id="coluna1">
            <div id="fotoFrente">
               
            </div>
            <div id="fotoCostas">
                
            </div>
        </div>

        <div id="coluna2">
            <h2>STATS</h2>
            <ul id="statsList">

            </ul>
        </div>
        
        <div>
            <div id="tipos">
                <h2>TIPOS</h2>
            </div>
            <div id="moves">
                <h2>MOVES</h2>
                <div id="moveList"></div>
            </div>
        </div>
    </main>

    <button id="prevPokemon" onclick="trocarPokemon('-')">
        <
    </button>

    <button id="nextPokemon" onclick="trocarPokemon('+')">
        >
    </button>

    <script>

        let veioDeOnde = sessionStorage.getItem('veioDeOnde')

        let idPokemon = sessionStorage.getItem('idPokemonDetalhe')
        //document.onload = idPokemon = sessionStorage.getItem('idPokemonDetalhe')
        console.log(idPokemon + ' oi')


        function voltar() {
            if(veioDeOnde && veioDeOnde === 'index') {
                window.location.href = "index.html"
            } 
            //else if(veioDeOnde && veioDeOnde === 'index') {
            else {
                //window.location.href = "index.html"
                window.history.back()
            }
        }

        let pokemonsNaPokedex = []
        let index = ''

        if(localStorage.getItem('pokemons')) {
            pokemonsNaPokedex = JSON.parse(localStorage.getItem('pokemons'))
            pokemonsNaPokedex.sort((a, b) => a - b);
            index = pokemonsNaPokedex.indexOf(parseInt(idPokemon))
        }

        console.log(index + ' indeex')

        let statsPokemonPokedexDialog = []
        let indexStatPokemon = 0
        // let nome_pokemon = ''
        // let tipos_pokemon = []
        //let stats_pokemon = []

        // function trocarStat(o) {
        //     let statPokemon = document.getElementById('statPokemon')
        //     console.log('deu ' + statPokemon)
        //     o === '+' ? indexStatPokemon++ : indexStatPokemon--

        //     if(indexStatPokemon > 5) {
        //         indexStatPokemon = 0
        //     } else if (indexStatPokemon < 0) {
        //         indexStatPokemon = 5
        //     }

        //     statPokemon.innerHTML = statsPokemonPokedexDialog[indexStatPokemon]
        // }


        function trocarPokemon(o) {
            console.log(veioDeOnde)
            
            if(veioDeOnde === 'index') {
               o === '+' ? idPokemon++ : idPokemon--

               sessionStorage.setItem('idPokemonDetalhe', idPokemon)

            } else if(veioDeOnde === 'pokedex') {
                
                console.log(pokemonsNaPokedex)
                //pokemonsNaPokedex.sort((a, b) => a - b);
                //console.log(index + ' indeex' )

                o === '+' ? index++ : index--

                sessionStorage.setItem('idPokemonDetalhe', pokemonsNaPokedex[index])
                console.log('aquieee ' + pokemonsNaPokedex[index])
            }

            //idPokemon++
            //sessionStorage.setItem('idPokemonDetalhe', idPokemon)

            let header = document.getElementsByTagName('header')
            header[0].style.display = 'none'
            let main = document.getElementsByTagName('main')
            main[0].style.display = 'none'

            //location.replace(location.href)
            location.reload()
            console.log(idPokemon)
            //carregarDados()
        }

        document.onload = mostrarEsconderBotoes()

        function mostrarEsconderBotoes() {
            if(sessionStorage.getItem('veioDeOnde') === 'index') {
                if(idPokemon === '1') {
                    let prevButton = document.getElementById('prevPokemon')
                    // prevButton.setAttribute('disabled', 'disabled')
                    prevButton.style.display = 'none'
                } else if(idPokemon === '1017') {
                    let nextButton = document.getElementById('nextPokemon')
                    // nextButton.setAttribute('disabled', 'disabled')
                    nextButton.style.display = 'none'
                }
            } else if(sessionStorage.getItem('veioDeOnde') === 'pokedex') {
                if(index === 0) {
                    //alert('inicio')
                    let prevButton = document.getElementById('prevPokemon')
                    prevButton.style.display = 'none'
                } else {
                    let prevButton = document.getElementById('prevPokemon')
                    prevButton.style.display = 'block'
                }
                if(index === pokemonsNaPokedex.length - 1) {
                    //alert('final')
                    let nextButton = document.getElementById('nextPokemon')
                    nextButton.style.display = 'none'
                    nextButton.style.backgroundColor = 'red'
                } else {
                    let nextButton = document.getElementById('nextPokemon')
                    nextButton.style.display = 'block'
                }
            }
        }

        let listaCoresTipos = [
            {tipo: 'bug', cor: 'yellowgreen', cor2: 'rgba(154, 205, 50, 0.8)'},
            {tipo: 'water', cor: '#0040ff', cor2: 'rgba(0, 64, 255, 0.9)'},
            {tipo: 'electric', cor: 'yellow', cor2: 'rgba(255, 255, 0, 0.6)'},
            {tipo: 'grass', cor: '#009900', cor2: 'rgba(0, 153, 0, 0.8)'},
            {tipo: 'fire', cor: '#ff0000', cor2: 'rgba(255, 0, 0, 0.8)'},
            {tipo: 'normal', cor: '#ffb366', cor2: 'rgba(255, 179, 102, 0.8)'},
            {tipo: 'ground', cor: '#ff531a', cor2: 'rgba(255, 83, 26, 0.8)'},
            {tipo: 'poison', cor: '#cc00cc', cor2: 'rgba(204, 0, 204, 0.8)'},
            {tipo: 'ghost', cor: '#660066', cor2: 'rgba(102, 0, 102, 0.9)'},
            {tipo: 'dragon', cor: 'Coral', cor2: 'rgba(255, 127, 80, 0.8)'},
            {tipo: 'rock', cor: 'gray', cor2: 'rgba(128, 128, 128, 0.85)'},
            {tipo: 'psychic', cor: 'pink', cor2: 'rgba(255, 192, 203, 0.7)'},
            {tipo: 'ice', cor: '#80d4ff', cor2: 'rgba(128, 212, 255, 0.8)'},
            {tipo: 'fighting', cor: 'brown', cor2: 'rgba(165, 42, 42, 0.9)'},
            {tipo: 'fairy', cor: 'Bisque', cor2: 'rgba(255, 228, 196, 0.7)'},
            {tipo: 'dark', cor: '#515151', cor2: 'rgba(81, 81, 81, 0.9)'},
            {tipo: 'steel', cor: 'silver', cor2: 'rgba(192, 192, 192, 0.8)'},
            {tipo: 'flying', cor: 'LightBlue', cor2: 'rgba(173, 216, 230, 0.8)'}
        ]

        document.onload = carregarDados()

        function carregarDados() {
            fetch(`https://pokeapi.co/api/v2/pokemon/${idPokemon}`)
                .then(response => response.json())
                .then(function(data) {
                    nome.innerHTML = `#${idPokemon} - ${data.name.toUpperCase()}`

                    let type = data.types[0].type.name
                    let corFundo = listaCoresTipos.find((tipoPokemon) => tipoPokemon.tipo === type);
                    let header = document.getElementsByTagName('header')
                    let tipos = document.getElementById('tipos')
                    let colunaStats = document.getElementById('coluna2')

                    colunaStats.style.backgroundColor = corFundo.cor2
                    colunaStats.opacity = '0.5'

                    //console.log(header[0])
                    header[0].style.backgroundColor = corFundo.cor

                    let fotoFrente = document.getElementById('fotoFrente')
                    let imgFrente = document.createElement('img')
                    //imgFrente.src = data.sprites.other.dream_world.front_default

                    if(idPokemon < 650) {
                        imgFrente.src = data.sprites.versions['generation-v']['black-white'].animated.front_default
                        // imgFrente.style.width = '50%'
                        // imgFrente.style.maxHeight = '150px'
                    } else if(idPokemon < 899) {
                        imgFrente.src = data.sprites.versions['generation-v']['black-white'].front_default    
                        // imgFrente.style.width = '80%'
                    } else {
                        imgFrente.src = data.sprites.front_default    
                        // imgFrente.style.width = '80%'
                    }

                    imgFrente.style.maxHeight = '125px'
                    imgFrente.style.maxWidth = '125px'
                    
                    // imgFrente.src = data.sprites.versions['generation-v']['black-white'].front_default
                    fotoFrente.appendChild(imgFrente)

                    //fotoFrente.style.backgroundColor = corFundo.cor2
                    // fotoFrente.style.opacity = '0.8'
                    fotoFrente.style.background = `radial-gradient(circle, ${corFundo.cor2} 50%, ${corFundo.cor} 80%)`;

                    let fotoCostas = document.getElementById('fotoCostas')
                    let imgCostas = document.createElement('img')
                    
                    if(idPokemon < 650) {
                        imgCostas.src = data.sprites.versions['generation-v']['black-white'].animated.back_default
                        // imgCostas.style.width = '50%'
                        // imgCostas.style.maxHeight = '150px'
                    } else if(idPokemon < 899) {
                        imgCostas.src = data.sprites.versions['generation-v']['black-white'].back_default    
                        // imgCostas.style.width = '80%'
                    } else {
                        imgCostas.src = data.sprites.back_default    
                        // imgCostas.style.width = '80%'
                    }

                    imgCostas.style.maxHeight = '125px'
                    imgCostas.style.maxWidth = '125px'

                    if(imgCostas.src.includes('null')) {
                        // fotoCostas.style.display = 'none'
                        imgCostas.style.display = 'none'
                    }

                    // imgCostas.src = data.sprites.versions['generation-v']['black-white'].back_default
                    fotoCostas.appendChild(imgCostas)
                    
                    // fotoCostas.style.backgroundColor = corFundo.cor2
                    // fotoCostas.style.opacity = '0.8'
                    fotoCostas.style.background = `radial-gradient(circle, ${corFundo.cor2} 50%, ${corFundo.cor} 80%)`;


                    /*if(image === null) {
                            image = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${id}.png`
                            imagem.src = image
                        }

                        if(image === null) {
                            image = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/front-default/${id}.png`
                        }
                            imagem.src = image
                    //MouseOver - MouseOut
                    fotoFrente.addEventListener('mouseover', function () {
                        imgFrente.src = data.sprites.versions['generation-v']['black-white'].animated.front_default
                        imgFrente.style.width = '45%'
                    });

                    fotoFrente.addEventListener('mouseout', function () {
                        imgFrente.src = data.sprites.versions['generation-v']['black-white'].front_default
                        imgFrente.style.width = '80%'
                    });

                    fotoCostas.addEventListener('mouseover', function () {
                        imgCostas.src = data.sprites.versions['generation-v']['black-white'].animated.back_default
                        imgCostas.style.width = '45%'
                    });

                    fotoCostas.addEventListener('mouseout', function () {
                        imgCostas.src = data.sprites.versions['generation-v']['black-white'].back_default
                        imgCostas.style.width = '80%'
                    });
                    */




                    data.stats.forEach(stats => {

                        let statsList = document.getElementById('statsList')

                        let stat = document.createElement('li')
                        stat.id = 'stat'

                        let statNome = document.createElement('p')
                        statNome.id = 'statName'
                        statNome.innerHTML = stats.stat.name.toUpperCase() + ': '
                        
                        
                        let statValueBG = document.createElement('div')
                        statValueBG.id = 'statValueBG'

                        let statValueBar = document.createElement('p')
                        statValueBar.id = 'statValueBar'
                        statValueBar.innerHTML = stats.base_stat
                        statValueBar.style.width = `${stats.base_stat}px`
                        statValueBar.style.backgroundColor = corFundo.cor2

                        statValueBG.appendChild(statValueBar)

                        stat.appendChild(statNome)
                        stat.appendChild(statValueBG)

                        statsList.append(stat)

                        //pro dialog
                        statsPokemonPokedexDialog.push(stats.stat.name.toUpperCase() + ': ' + stats.base_stat)
                    });

                    //Tipos
                    let typesList = document.getElementById('tipos')

                    if(data.types.length > 1) {
                        data.types.forEach(tipoPokemon => {
                            let tipo = document.createElement('p')
                            tipo.innerHTML = tipoPokemon.type.name.toUpperCase()
                            //console.log(tipoPokemon.type.name)

                            let nomeTipo = tipoPokemon.type.name
                            let corTipo = listaCoresTipos.find((tipoPokemon) => tipoPokemon.tipo === nomeTipo);
                            //console.log(corTipo)

                            tipo.style.backgroundColor = corTipo.cor2
                            typesList.appendChild(tipo)
                        });
                    } else {
                        let tipo = document.createElement('p')
                            tipo.innerHTML = type.toUpperCase()
                            tipo.style.backgroundColor = corFundo.cor2
                            tipo.style.gridColumn = '2 / span 2'
                            typesList.appendChild(tipo)

                            let textoTipos = typesList.children[0]
                            textoTipos.innerHTML = 'TIPO'
                    }

                    //Moves
                    let movesDiv = document.getElementById('moves')
                    movesDiv.style.backgroundColor = corFundo.cor2

                    let moveList = document.getElementById('moveList')
                    let i = 1

                    data.moves.forEach(move => {
                        //console.log(move)
                        let moveNames = document.createElement('p')
                        moveNames.innerHTML += move.move.name.charAt(0).toUpperCase() +  move.move.name.slice(1)
                        moveNames.innerHTML = moveNames.innerHTML.split("-").join(" ")
                        //console.log(move.move.name.split("-").join(" "))
                        // moveNames.style.width = '100%'
                        moveNames.style.padding = '2px'

       //                 i % 2 === 0 ? moveNames.style.backgroundColor = corFundo.cor2 : moveNames.style.backgroundColor = corFundo.cor
                        moveNames.style.backgroundColor = corFundo.cor2
                        i++;
                        moveList.appendChild(moveNames)
                    });
                    
                    let botaoAdicionarRemover = document.getElementById('btnAdicionarRemover')

                    if(pokemonsNaPokedex.includes(parseInt(idPokemon))) {
                        botaoAdicionarRemover.innerHTML = '<b>Remover</b> da Pokédex'
                        // botaoAdicionarRemover.style.color = 'red'
                        botaoAdicionarRemover.classList.add("removePokedex");
                    } else {
                        botaoAdicionarRemover.innerHTML = '<b>Adicionar</b> na Pokédex'
                        //botaoAdicionarRemover.style.color = 'green'
                        botaoAdicionarRemover.classList.add("addPokedex");
                    }
                })
        }

        // function adicionarRemover() {

            let botaoAdicionarRemover = document.getElementById('btnAdicionarRemover')

            botaoAdicionarRemover.addEventListener('click', function() {

                //Remover Pokemon
            if(pokemonsNaPokedex.includes(parseInt(idPokemon))) {
                pokemonsNaPokedex.splice(index, 1);
                localStorage.setItem('pokemons', JSON.stringify(pokemonsNaPokedex));


                let dialogRemove = document.createElement('dialog')
                document.body.appendChild(dialogRemove)
                // if(veioDeOnde === 'pokedex') {
                //     index = 0

                    //chamar dialog
                    //alert('removido')
                    //let dialogRemove = document.createElement('dialog')
                        dialogRemove.id = ('dialogRemove')
                        // dialogRemove.style.width = '800px'
                        // dialogRemove.style.heigth = '800px'
//console.log(dialogoRemove + ' aqui' )
                        let h1 = document.createElement('h1')
                        h1.id = 'textoDialog'
                        // h1.innerHTML = this.parentNode.parentElement.children[1].innerHTML + ' removido da Pokédex!'
                        let nomePokemon = this.parentNode.parentElement.children[1].innerText
                        //console.log(nomePokemon.replace(`#${idPokemon} - `, ""))

                        nomePokemon = nomePokemon.replace(`#${idPokemon} - `, "")
                        nomePokemon = nomePokemon.charAt(0) + nomePokemon.substring(1).toLowerCase();
                        h1.innerHTML = nomePokemon + ' removido da Pokédex!'
                        

                        let img = document.createElement('img')

                        //depois pegar pelo sprite da imgFrente
                        if(parseInt(idPokemon) < 650) {
                            img.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/${idPokemon}.gif`
                        } else if(idPokemon < 899) {
                            img.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/${idPokemon}.png`
                        } else {
                            img.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${idPokemon}.png`
                        }

                        let closeButton = document.createElement('button')
                        closeButton.innerHTML = 'x'

                        closeButton.addEventListener('click', function() {
                            //console.log(this.parentElement)

                            this.parentElement.remove()

                            if(veioDeOnde === 'pokedex') {
                                index = 0
                                location.reload()
                                //window.history.back()
                                window.location.href = "pokedex.html"
                                //no surge nao atualiza automatico se usar o window.history.back() como no liveServer ou direto no arquivo
                            }
                        })

                        dialogRemove.appendChild(h1)
                        dialogRemove.appendChild(img)
                        dialogRemove.appendChild(closeButton)

                        document.body.appendChild(dialogRemove)

                        dialogRemove.showModal()

 


                    // location.reload()
                    // window.history.back()
                    
                //}
                //chamar dialog
                //alert('removido')

                botaoAdicionarRemover.innerHTML = '<b>Adicionar</b> na Pokédex'
                // botaoAdicionarRemover.style.color = 'green'
                botaoAdicionarRemover.setAttribute('class' ,"addPokedex")
            } else {
                pokemonsNaPokedex.push(parseInt(idPokemon))
        
                botaoAdicionarRemover.innerHTML = '<b>Remover</b> da Pokédex'
                // botaoAdicionarRemover.style.color = 'red'
                botaoAdicionarRemover.setAttribute('class' ,"removePokedex")

                localStorage.setItem('pokemons', JSON.stringify(pokemonsNaPokedex));

                //depois criar variaveis globais para pegar os dados direito
                let nome_pokemon = this.parentNode.parentElement.children[1].innerText
                nome_pokemon = nome_pokemon.replace(`#${idPokemon} - `, "")

                //dialog add
                let dialogAdd = document.createElement('dialog')
                dialogAdd.id = 'dialogAdd'
                document.body.appendChild(dialogAdd)

                let divDialog = document.createElement('div')
                divDialog.id = 'divDialog'

                dialogAdd.appendChild(divDialog)

                let textoDialog = document.createElement('h1')
                textoDialog.id = 'textoDialog'
                textoDialog.innerHTML = 'Pokémon Adicionado à Pokédex!'

                divDialog.appendChild(textoDialog)

                let buttonClose = document.createElement('button')
                buttonClose.innerHTML = 'x'
                //buttonClose.setAttribute('onclick', 'dialog.close()')

                divDialog.appendChild(buttonClose)
                
                buttonClose.addEventListener('click', function() {
                    this.parentElement.parentElement.remove()
                    //console.log(this.parentElement.parentElement)
                })

                let divPokemonDialog = document.createElement('div')
                divPokemonDialog.id = 'divPokemonDialog'

                let fotoFrente = document.getElementById('fotoFrente')

                //console.log(fotoFrente.children[0].src)

                let imgPokemon = document.createElement('img')
                imgPokemon.src = fotoFrente.children[0].src

                divPokemonDialog.appendChild(imgPokemon)

                divDialog.appendChild(divPokemonDialog)

                let divPokemonName = document.createElement('div')
                divPokemonName.id = 'divPokemonName'
                
                //console.log(this.parentNode.parentElement.children[1].innerText)
                let nomePokemon = document.createElement('h2')
                nomePokemon.id = 'nomePokemon'
                
                nomePokemon.innerHTML = nome_pokemon
                // nomePokemon.innerHTML = nomePokemon.toUpperCase()

                divPokemonName.appendChild(nomePokemon)
                divDialog.appendChild(divPokemonName)

                
                let divPokemonId = document.createElement('div')
                divPokemonId.id = 'divPokemonId'

                let pokemonIdDialog = document.createElement('h3')
                pokemonIdDialog.id = 'pokemonIdDialog'
                pokemonIdDialog.innerHTML = idPokemon

                divPokemonId.appendChild(pokemonIdDialog)
                divDialog.appendChild(divPokemonId)


                let tipos = document.getElementById('tipos')

                let divPokemonTipo1 = document.createElement('div')
                divPokemonTipo1.id = 'divPokemonTipo1'

                let pokemonTipo1 = document.createElement('h3')
                pokemonTipo1.id = 'pokemonTipo1'

                pokemonTipo1.innerHTML = tipos.children[1].innerHTML

                divPokemonTipo1.appendChild(pokemonTipo1)
                divDialog.appendChild(divPokemonTipo1)

                if(tipos.children[2]) {
                    let divPokemonTipo2 = document.createElement('div')
                    divPokemonTipo2.id = 'divPokemonTipo2'

                    let pokemonTipo2 = document.createElement('h3')
                    pokemonTipo2.id = 'pokemonTipo2'

                    pokemonTipo2.innerHTML = tipos.children[2].innerHTML

                    divPokemonTipo2.appendChild(pokemonTipo2)
                    divDialog.appendChild(divPokemonTipo2)
                }
                

                let divPokemonStats = document.createElement('div')
                divPokemonStats.id = 'divPokemonStats'

                let statPokemon = document.createElement('h3')
                statPokemon.id = 'statPokemon'
                statPokemon.innerHTML = statsPokemonPokedexDialog[0]

                divPokemonStats.appendChild(statPokemon)
                divDialog.appendChild(divPokemonStats)

                let buttonPrevStat = document.createElement('button')
                buttonPrevStat.id = 'prevStat'
                //buttonPrevStat.setAttribute('onclick', 'trocarStat(-)')

                buttonPrevStat.addEventListener('click', function() {
                    let statPokemon = document.getElementById('statPokemon')
                    //console.log('deu ' + statPokemon)
                    indexStatPokemon--

                    if(indexStatPokemon > 5) {
                        indexStatPokemon = 0
                    } else if (indexStatPokemon < 0) {
                        indexStatPokemon = 5
                    }

                    statPokemon.innerHTML = statsPokemonPokedexDialog[indexStatPokemon]
                })
                
                let buttonNextStat = document.createElement('button')
                buttonNextStat.id = 'nextStat'
                //buttonNextStat.setAttribute('onclick', 'trocarStat(+)')

                buttonNextStat.addEventListener('click', function() {
                    let statPokemon = document.getElementById('statPokemon')
                    //console.log('deu ' + statPokemon)
                    indexStatPokemon++

                    if(indexStatPokemon > 5) {
                        indexStatPokemon = 0
                    } else if (indexStatPokemon < 0) {
                        indexStatPokemon = 5
                    }

                    statPokemon.innerHTML = statsPokemonPokedexDialog[indexStatPokemon]
                })

                dialogAdd.appendChild(buttonPrevStat)
                dialogAdd.appendChild(buttonNextStat)

                dialogAdd.showModal()

            }




            })
            
        
    </script>
</body>
</html>